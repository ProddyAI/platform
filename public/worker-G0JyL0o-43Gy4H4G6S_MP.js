(()=>{self.__WB_DISABLE_DEV_LOGS=!0,self.addEventListener("push",(t=>{if(t.data){const e=t.data.json(),i={body:e.body||"New notification from Proddy",icon:e.icon||"/logo-nobg.png",badge:"/favicon.ico",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:"1",url:e.url||"/"}};t.waitUntil(self.registration.showNotification(e.title||"Proddy Notification",i))}})),self.addEventListener("notificationclick",(t=>{t.notification.close(),t.waitUntil(clients.matchAll({type:"window"}).then((e=>{const i=t.notification.data.url||"/";for(let t=0;t<e.length;t++){const n=e[t];if(n.url===i&&"focus"in n)return n.focus()}if(clients.openWindow)return clients.openWindow(i)})))}));const t="/offline";self.addEventListener("install",(e=>{e.waitUntil(caches.open("offline-cache").then((e=>e.addAll([t,"/logo-nobg.png","/favicon.ico"]))))})),self.addEventListener("fetch",(e=>{"GET"===e.request.method&&("navigate"!==e.request.mode||e.respondWith(fetch(e.request).catch((()=>caches.match(t)))))}))})();